# Запуск Laravel проекта с Git

## Пресеты запуска

### Только Backend
```bash
composer install
cp .env.example .env
php artisan key:generate
php artisan optimize:clear
php artisan serve
```

### Backend + Database
```bash
composer install
cp .env.example .env
php artisan key:generate
php artisan migrate
php artisan optimize:clear
php artisan serve

```

### Backend + Database + Frontend
```bash
composer install
npm install
cp .env.example .env
php artisan key:generate
php artisan migrate
php artisan db:seed
php artisan optimize:clear
php artisan serve

```
#### Отдельный терминал
```bash
npm run dev
```

---

## Пошаговая инструкция

### Подготовка окружения
```bash
# Открыть папку проекта в терминале
cd путь/к/проекту
```

### Установка зависимостей

**Backend (обязательно):**
```bash
composer install        # Первая установка
# или
composer update         # Обновление зависимостей
```

**Frontend (если есть):**
```bash
npm install            # Установка npm пакетов
# или
npm ci                 # Чистая установка из package-lock.json
```

### Настройка окружения

```bash
# Копирование файла окружения
cp .env.example .env

# Генерация ключа приложения
php artisan key:generate
```

**Настройка БД в `.env`:**
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=имя_базы
DB_USERNAME=пользователь
DB_PASSWORD=пароль
```

### Работа с базой данных

```bash
# Миграции (создание таблиц)
php artisan migrate

# Миграции + сидеры (заполнение данными)
php artisan migrate --seed

# Или отдельно:
php artisan db:seed

# Откат последней миграции
php artisan migrate:rollback

# Откат всех миграций
php artisan migrate:fresh
```

### Очистка и оптимизация

```bash
# Полная очистка кэша
php artisan optimize:clear

# Или по отдельности:
php artisan cache:clear      # Кэш приложения
php artisan config:clear     # Кэш конфигурации
php artisan route:clear      # Кэш маршрутов
php artisan view:clear       # Кэш представлений
php artisan session:clear    # Очистка сессий
```

### Запуск проекта

**Backend:**
```bash
php artisan serve              # http://localhost:8000
php artisan serve --port=8080  # На другом порту
```

**Frontend (в отдельном терминале):**
```bash
npm run dev        # Режим разработки с hot reload
npm run build      # Продакшн сборка
npm run watch      # Автоматическая пересборка при изменениях
```

---

## Дополнительные команды

### Проверка окружения
```bash
php artisan about          # Информация о проекте
php artisan env            # Текущее окружение
```

### Создание структуры
```bash
php artisan make:controller ИмяController
php artisan make:model ИмяModel
php artisan make:migration create_таблица_table
```

### Работа с кэшем
```bash
php artisan config:cache    # Кэширование конфигурации
php artisan route:cache     # Кэширование маршрутов
php artisan view:cache      # Кэширование представлений
```

---

## Частые проблемы

### Проблема: "Class not found"
```bash
composer dump-autoload
php artisan optimize:clear
```

### Проблема: "Permission denied"
```bash
# Linux/Mac
chmod -R 775 storage bootstrap/cache
chown -R www-data:www-data storage bootstrap/cache
```

### Проблема: "Migration failed"
```bash
php artisan migrate:fresh --seed  # Пересоздание БД
```

### Проблема: "npm install" не работает
```bash
rm -rf node_modules package-lock.json
npm install
```

---

## Быстрая шпаргалка команд

| Действие | Команда |
|----------|---------|
| Установка зависимостей | `composer install` |
| Установка фронта | `npm install` |
| Создание .env | `cp .env.example .env` |
| Генерация ключа | `php artisan key:generate` |
| Миграции | `php artisan migrate` |
| Сидеры | `php artisan db:seed` |
| Очистка кэша | `php artisan optimize:clear` |
| Запуск сервера | `php artisan serve` |
| Запуск фронта | `npm run dev` |
